package {    import flash.display.MovieClip;    import flash.events.*;    import flash.net.XMLSocket;    import flash.system.Capabilities;    public class XMLSocketClient  {        private var hostName:String = "localhost";        private var port:uint = 8080;        private var socket:XMLSocket;        private var _view:MovieClip;        public function XMLSocketClient(view:MovieClip) {            socket = new XMLSocket();            _view = view;            configureListeners(socket);            if (hostName && port) {                socket.connect(hostName, port);            }        }        public function send(data:Object):void {            socket.send(data);        }        private function configureListeners(dispatcher:IEventDispatcher):void {            dispatcher.addEventListener(Event.CLOSE, closeHandler);            dispatcher.addEventListener(Event.CONNECT, connectHandler);            dispatcher.addEventListener(DataEvent.DATA, dataHandler);            dispatcher.addEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);            dispatcher.addEventListener(ProgressEvent.PROGRESS, progressHandler);            dispatcher.addEventListener(SecurityErrorEvent.SECURITY_ERROR, securityErrorHandler);        }        private function closeHandler(event:Event):void {            trace("closeHandler: " + event);        }        private function connectHandler(event:Event):void {            trace("connectHandler: " + event);			_view.update("Connected");            //send("Flash: " + Capabilities.version);        }        private function dataHandler(event:DataEvent):void {            trace("dataHandler: " + event);            //	 = new             var data:String = String(event.data);            _view.update(data);	        }        private function ioErrorHandler(event:IOErrorEvent):void {            trace("ioErrorHandler: " + event);			_view.update("ioErrorHandler: " +  event);	        }        private function progressHandler(event:ProgressEvent):void {            trace("progressHandler loaded:" + event.bytesLoaded + " total: " + event.bytesTotal);			_view.update("progressHandler loaded:" + event.bytesLoaded + " total: " + event.bytesTotal);        }        private function securityErrorHandler(event:SecurityErrorEvent):void {            trace("securityErrorHandler: " + event);			_view.update("securityErrorHandler: " + 	event);	        }    }}